extern "C" {
    class Small {
        pub x: f32,
        pub y: f32
    };

    func ByValSmallArgFunc(x: Small) -> f64 {
        ret (x.x + x.y) as f64;
    }

    func ByValSmallArgTest(x: f32, y: f32) -> f64 {
        let mut value: Small;
        (value.x, value.y) = (x, y);
        ret ByValSmallArgFunc(value);
    }

    func ByValSmallRetFunc(x: f32, y: f32) -> Small {
        let mut value: Small;
        (value.x, value.y) = (x, y);
        ret value;
    }

    func ByValSmallRetTest(x: f32, y: f32) -> f64 {
        let value: Small = ByValSmallRetFunc(x, y);
        ret (value.x + value.y) as f64;
    }

    class Big {
        pub x: f32,
        pub y: f32,
        pub z: f32
    };

    func ByValBigArgFunc(x: Big) -> f64 {
        ret (x.x + x.y + x.z) as f64;
    }

    func ByValBigArgTest(x: f32, y: f32, z: f32) -> f64 {
        let mut value: Big;
        (value.x, value.y, value.z) = (x, y, z);
        ret ByValBigArgFunc(value);
    }

    func ByValBigRetFunc(x: f32, y: f32, z: f32) -> Big {
        let mut value: Big;
        (value.x, value.y, value.z) = (x, y, z);
        ret value;
    }

    func ByValBigRetTest(x: f32, y: f32, z: f32) -> f64 {
        let value: Big = ByValBigRetFunc(x, y, z);
        ret (value.x + value.y + value.z) as f64;
    }
}